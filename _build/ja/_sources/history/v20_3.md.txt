# Version 20.3

2020年 11月 17日

## 一般の新機能

- EmEditor の新バージョンが検出した場合の動作を改善し、全体的に更新時のエクスペリエンスを改善しました。新バージョンが検出されると、EmEditor ウィンドウの右下にツールチップが表示され、新バージョンの番号を表示して、すぐにインストールするか、終了時にインストールするかどうかを選択できるようになります。また、スタート ウィンドウに更新チェッカーに関するオプションを追加し、自動更新の有効/無効を切り替えたり、すぐにインストールしたり、終了時にインストールするかどうかを選択できるようになりました。
- emedshl.dll と emedshl64.dll ファイルをインストーラーから削除し、レジストリに、Windows エクスプローラのコンテキスト メニューに関するキーと値を追加するようにしました。これにより将来のアンインストール/更新時に \[使用中のファイル\] メッセージが表示される問題を回避しました。
- 既定ではインストーラーにより、デスクトップ ショートカットは作成されないようになりました。従来通り、\[カスタム\] インストールを選択することにより、デスクトップ ショートカットを作成することができます。
- HTML/XML 文字参照、Universal Character Reference、パーセント エンコーディングのアクティブな文字列にマウスをポイントした時に表示されるツール チップに、\[すべてコピー\]、\[すべて無効\] コマンドを追加しました。
- 巨大ファイルからの検索 (\[一致する文字列を数える\] オプションがオン)、フィルター、すべて置換、比較など、様々な動作を高速化しました。

### テスト結果:

|  | v20.2.0 | v20.3.0 | 比較 |
| --- | --- | --- | --- |
| \[一致する文字列を数える\] を有効にして "abc" を検索 | 8.20 秒 | 2.32 秒 | 3.53 倍に高速化 |
| "abc" を "@@@" ですべて置換 | 8.38 秒 | 2.87 秒 | 2.92 倍に高速化 |
| "abc" でフィルター | 9.41 秒 | 3.31 秒 | 2.84 倍に高速化 |
| \[正規表現 (Onigmo)\] と \[一致する文字列を数える\] を有効にして "\[a-c\]" を検索 | 162 秒 | 50.7 秒 | 3.20 倍に高速化 |
| \[正規表現 (Onigmo)\] を有効にして "\[a-c\]" を "@" にすべて置換 | 220 秒 | 64.2 秒 | 3.43 倍に高速化 |

10 GB、3 億行、ASCII ランダム データ ファイル、元に戻す情報を破棄、Windows 10 (64-bit)、Core i9-9900K、32GB RAM、2TB SSD。

## 新しい設定

- [\[置換\] ダイアログ ボックス](../dlg/replace/index) に \[折り返しあり\] チェック ボックスを追加しました。
- [\[スタート ウィンドウのカスタマイズ\] ダイアログ ボックス](../dlg/customize_start/index) に \[更新チェッカを表示する\] チェック ボックスと \[新バージョンが利用可能な時だけ表示する\] チェック ボックスを追加しました。
- 「数値/IPアドレス範囲の不正なフォーマットが検出されました。」メッセージ ボックスに \[数値範囲オプションをクリア\] チェック ボックスを追加しました。
- 設定のプロパティの [\[強調(2)\] ページ](../dlg/properties/highlight2/index) から \[HTML/XML文字参照とUCNを強調する\] チェック ボックスを削除しました。これに似たオプションが設定のプロパティの [\[リンク\] ページ](../dlg/properties/link/index) の \[アクティブな文字列\] リスト ボックスに含まれていました。

## マクロの新機能

- [prompt メソッド](../macro/window/window_prompt) に省略可能なパラメータを追加し、複数行のテキスト ボックスを可能にしました。
- Selection オブジェクトの [Replace メソッド](../macro/selection/selection_replace) に eeFindAround フラグを追加しました。