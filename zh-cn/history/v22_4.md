# Version 22.4

2023年5月17日

## 一般新增功能

- 改进了从慢速驱动器或网络驱动器打开超大文件时的行为和进度消息。 <profree />
- 改进了取消 **在文件中查找** 时的响应时间。 <profree />
- 添加了使用 **语言服务器协议** (LSP) 的 **语法检查** 功能。 <pro />
- 通过添加签出提交和创建新分支的能力改进了 **提交列表 (CommitList)** 插件。 <pro />
- 添加了在 **查找** 对话框或 **查找** 工具栏中输入搜索字串时更新高亮显示的功能。启用此功能后，只有在 **查找**/**替换**/**在文件中查找**/**在文件中替换** 对话框或 **查找** 工具栏可见时，才会显示高亮。EmEditor 默认禁用此功能，但可以通过单击 **查找** 下拉列表框旁边 **>** 按钮所显示的菜单中，选择 **自动高亮** 来启用此功能。 <profree />
- 改进了使用鼠标扩展选区时的滚动行为。当您拖动鼠标（按住鼠标左键的同时移动鼠标指针）经过编辑器窗口的边缘时，鼠标指针的形状会发生变化。鼠标指针越过窗口边缘越远，滚动速度越快。如果将鼠标指针移离窗口太远，滚动行为就像您拖动滚动滑块（缩略图）一样。此模式让您能轻松地将选区的末端移动到文档中的任何位置。默认情况下，当您进入该模式时会显示迷你地图。在按住鼠标左键的同时按下 **ESC** 键将切换回正常选取模式。 <profree />
- 单击水平滚动条箭头时，新版本会向右或向左滚动 8 个字符。 <profree />
- 更改了主菜单上的快捷方式（ **转换** 和 **工具**）。 <profree />
- 更改了粘贴行为 \- 如果剪贴板文本包含换行符且当前选择模式为多选，则新版本也会粘贴为多行。 <profree />
- 提高了可靠性和稳健性，尤其是在低内存情况下处理非常大的文件时。 <profree />
- 新版本把“beta 测试版”称作“预览版”。 <profree />
- 提高了 **在文件中查找**、 **删除列**、 **清除内容**、 **随机排序** 和 base 64 编码/解码命令的速度。 **随机排序** 命令的速度通过使用快速伪随机数生成器（ [Xoshiro-cpp](https://github.com/Reputeless/Xoshiro-cpp)）得到了进一步的提高。

### 测试结果：

|  | v22.3 | v22.4 | 比较 |
| --- | --- | --- | --- |
| 在文件中查找 | 6.240 秒 | 2.261 秒 | 快 2.76 倍 |
| 删除列 | 2.582 秒 | 1.072 秒 | 快 2.41 倍 |
| 清除内容 | 2.658 秒 | 1.101 秒 | 快 2.41 倍 |
| 随机排序 | 6.668 秒 | 4.858 秒 | 快 1.47 倍 |

\\* 在文件中查找：在 8 个随机 ASCII/UTF-8 数据文件（总共 5.73 GB）中查找 "abc"，忽略大小写。

删除列，清除内容：1.99 GB，1590 万行，随机 CSV 数据。

随机排序：9.68 GB，2 亿行，随机 ASCII 数据。

全部：除了选择“总是丢弃过长的撤销信息来加速”之外都是默认选项；操作系统：Windows 11，Core i9-11900K，64GB RAM，2TB SSD。

## 新增选项

- 添加了 **语言服务器协议** 选项到配置属性中的 [**语法检查** 页面](../dlg/properties/validation/index) 上的 **文档类型** 下拉列表框中。 <pro />
- 添加了 **自动高亮** 命令到 [**查找** 对话框](../dlg/find/index) 中单击 **查找** 下拉列表框旁边的 **>** 按钮所显示的菜单中。 <profree />

## 新增插件功能 <pro />

- [**CommitList** 插件](../howto/plugin/plugin_commit_list) 中添加了签出提交、创建新分支或删除分支的功能。这些命令可以通过提交列表或分支列表的上下文菜单访问。

### 备注

- \[P\] 仅限 EmEditor 专业版
- \[PF\] EmEditor 专业版和 EmEditor 免费版
