# Version 18.8

2019年4月23日

## 一般新增功能

- 用多线程代码和最近 CPU 中的 AVX-2 指令集提高了打开很大文件，查找/替换/筛选， **大写**， **小写**，以及 **首字母大写**， **全角**，以及 **半角** 命令的速度。
- 大大提高了特别是打开包含很长行的文档时的速度。
- 新版本允许您在对话框的所有文本框中使用 CTRL + SHIFT + V 将以前复制的文本粘贴到编辑器中。
- 更新了 IPTip.jsee 宏以支持新的 GeoLite2 CSV 格式。如果启用了 IP v4 活动字符串，则当鼠标移动到 IP v4 地址时，此宏会将国家/地区名称显示为工具提示。
- 更改了默认键盘快捷键。SHIFT + TAB 被指定为 [**减少行缩进** 命令](../cmd/edit/unindent)，CTRL + SHIFT + T 被指定为 [**最近关闭的文件** 命令](../cmd/file/most_recent_closed_file)。

### 测试结果：

|  | v18.7 | v18.8 | 比较 |
| --- | --- | --- | --- |
| 小写命令 | 56.6 秒 | 1.47  秒 | 快 38.5 倍 |
| 首字母大写命令 | 72.5 秒 | 2.64 秒 | 快 27.5 倍 |
| 全角命令 | 116 秒 | 4.27 秒 | 快 27.2 倍 |
| 打开一个很大的文件 | 8.08 秒 | 7.55 秒 | 快 6.56% |
| 用 "abc" 替换全部 "@@@"（默认选项） | 1.86 秒 | 0.922 秒 | 快 2.02 倍 |
| 筛选 "abc"（默认选项） | 1.67 秒 | 0.906 秒 | 快 1.84 倍 |
| 在没有换行的很大的文档中移动鼠标\*1 | 1.36 秒 | 0.578 秒 | 快 2.35 倍 |

\*1 3.09 GB，1 行（没有换行），XML 文件，用宏把鼠标移动到行尾，剩 20 个字符处。使用临时文件选项关。

其他：4.72 GB，50,000,000 行，随机 ASCII 数据，使用临时文件选项关。

测试系统：Windows 10 (64-bit)，Core i9-9900K，32GB RAM，2TB SSD。

## 新增选项

- 添加了 **提示如果 Unicode (UTF-16) 文件大小为奇数（以字节为单位）** 复选框到 **自定义** 对话框的 [**文件** 页面](../dlg/customize/file/index) 上。
- 添加了 **执行“插入/删除换行符”命令时，忽略选择范围中的最后一个字符**， **在半角/全角转换期间将半角反斜杠 (U + 005C) 转换为全角日元 (Yen) 符号 (U + FFE5)**，和 **在半角/全角转换期间将半角反斜杠 (U + 005C) 转换为全角韩元 (Won) 符号 (U + FFE6)** 复选框到 **自定义** 对话框的 [**编辑** 页面](../dlg/customize/edit/index) 上。

## 插件 API 新增功能

- 添加了 **eeWidthJapaneseYen** 和 **eeWidthKoreanWon** 标志到 **Selection** 对象的 [**ChangeWidth** 方法](../macro/selection/selection_changewidth) 中。

## 新增宏功能

- 添加了 **FLAG\_JAPANESE\_YEN** 和 **FLAG\_KOREAN\_WON** 标志到 [**EE\_CONVERT** 消息](../plugin/message/ee_convert) 和 [**Editor\_Convert** 内联函数](../plugin/macro/editor_convert) 中。
