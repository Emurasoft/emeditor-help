# Version 18.9

2019年5月9日

## 一般新增功能

- 新版本允许您 **查找**/**替换**/**筛选** 指定范围的 **IPv4 / IPv6 地址**。IP 地址范围可以用 [**数字范围表达式语法**](../howto/search/number_range_syntax) 或 **IPv4 / IPv6 CIDR 标记** 指定。
- 用多线程代码大大提高了 **查找**/**替换**/**筛选**， **大写**， **小写**， **首字母大写**， **全角**，以及 **半角** 命令的速度，即使用临时文件打开非常大的文件。
- 大大提高了 **保存** 和 **另存为** 命令的速度。

### 测试结果：

|  | v18.0 | v18.1 | v18.2 | v18.8 | v18.9 | 相较于 v18.0 |
| --- | --- | --- | --- | --- | --- | --- |
| 查找 "abc"，勾选 "匹配大小写" 选项 | 4.09 秒 | 3.26 秒 | 1.80 秒 | 0.453 秒 | 0.156 秒 | 快 26.2 |
| 用 "abc" 替换全部 "@@@" | 4.30  秒 | 3.22 秒 | 1.75 秒 | 0.437 秒 | 0.110 秒 | 快 39.1 |
| 筛选 "abc" | 4.16 秒 | 3.14 秒 | 1.73 秒 | 0.156 秒 | 0.109 秒 | 快 38.2 |

\\* 测试条件与 [Version 18.2](v18_2) 中相同。

## 新增选项

- 添加了 **IP 地址/ CIDR 标记** 复选框/文本框到 [**输入数字范围** 对话框](../dlg/number_range/index) 中。
- 添加了 **IPv4 地址升序排序**， **IPv4 地址降序排序**， **IPv6 地址升序排序**，和 **IPv6 地址降序排序** 单选按钮到 [**多列排序** 对话框](../dlg/sort_multi/index) 中。
- 新版本让您能输入一个大于 4096 MB 的数字到 **自定义** 对话框 [**高级** 页面](../dlg/customize/advanced/index) 上的 **每个文件的最大内存大小** 文本框中（仅限 64 位版）。

## 新增命令

- [IPv4 地址升序排序](../cmd/sort/sort_ipv4_a)
- [IPv4 地址降序排序](../cmd/sort/sort_ipv4_d)
- [IPv6 地址升序排序](../cmd/sort/sort_ipv6_a)
- [IPv6 地址降序排序](../cmd/sort/sort_ipv6_d)

## 插件 API 新增功能

- 添加了 SORT\_IPV4 和 SORT\_IPV6 标志到 [**SORT\_INFO** 结构](../plugin/structure/sort_info) 以及 [**Editor\_Sort** 内联函数](../plugin/macro/editor_sort) 中。

## 新增宏功能

- 添加了 **I**（排序 IPv4 地址）和 **P** （排序 IPv6 地址）选项到 **Document** 对象中的 [**Sort** 方法](../macro/document/sort) 中。
