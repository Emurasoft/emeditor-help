# Version 20.5

2021年1月27日

## 一般新增功能

- 只要有足够的内存，在 64 位版本的 EmEditor 中打开文件时，最多支持 16 TB（17,592,186,044,415 字节）或 10,990 亿行（1,099,511,627,775 行）。在 32 位版本中，EmEditor 最多支持 256 GB（274,877,906,943 字节）或 21.4 亿行（2,147,483,647 行）。
- 将鼠标指针悬停在文档标签页上时，在弹出的工具提示中添加了行和 CSV 列总数的显示。
- 通过检测文件所在驱动器的介质类型来优化各种任务。
- 单击 **大文件控制器** 中的 **停止** 按钮时，响应时间得到了改善。
- 如果在打开非常大的文件时出现内存不足错误，则会在显示的消息框中添加 **部分打开** 按钮。
- 当打开一个非常大的文件时，添加了”剩余时间：“到状态栏中。
- 当临时文件的可用内存或磁盘空间不足时，添加了一条通知消息。
- 新版本允许您在 **打印** 对话框中选择 **当前页面**。
- 插件支持 **非常暗的模式**。
- 在便携式版本中，新版本会将崩溃报告文件保存在 EmEditor 安装路径的“Error”子文件夹中。
- 新增了从 EmEditor 登录 Emurasoft 客户中心的功能，从而无需输入新的注册密钥即可续订订阅。您也可以选择像以前一样使用 EmEditor，而无需登录。
- 打开很大的文件时，提高了 **打印**， **打印预览** 和各种 **排序** 的速度。

### 测试结果：

|  | v20.4.0 | v20.5.0 | 比较 |
| --- | --- | --- | --- |
| 按字母升序排序 | 672 秒 | 365 秒 | 快 1.84倍 |

\\* 7.45 GB，1 亿行，随机ASCII数据，默认排序选项，勾选“总是丢弃过长的撤消信息来加速”选项，16 线程，Windows 10（64位），Core i9-9900K，64GB RAM，2TB SSD。

## 新增选项

- 添加了 **CSV 文档中的列数**， **在选区内的平均值**，和 **在选区内的总和** 复选框到 **自定义** 对话框的 [**状态** 页面](../dlg/customize/status/index) 上。从 [**状态** 页面](../dlg/customize/status/index) 上删除了 **内存大小**， **一级缓存大小**，和 **二级缓存大小** 复选框
- 从 **自定义** 对话框的 [**高级** 页面](../dlg/customize/advanced/index) 上删除了 **一级缓存大小** 和 **二级缓存大小** 文本框。
- 添加了 **登录** 单选按钮，以及 **电子邮件地址** 和 **密码** 文本框到 [**注册产品** 对话框](../dlg/regist/index) 中。

## 插件 API 新增功能

- 添加了 **EI\_IS\_VERY\_DARK**， **EI\_WM\_INITDIALOG**， **EI\_WM\_CTLCOLOR**， **EI\_WM\_THEMECHANGED**，以及 **EI\_INIT\_LISTVIEW** 命令到 [**EE\_INFO** 消息](../plugin/message/ee_info) 中。

## 新增宏功能

- 添加了 [**Text** 属性](../macro/output_bar/text) 到 [**OutputBar** 对象](../macro/output_bar/index) 中。
