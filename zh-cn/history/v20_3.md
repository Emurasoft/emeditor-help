# Version 20.3

2020年11月17日

## 一般新增功能

- 改进了检测到新版本的 EmEditor 时的行为，以及整体更新体验。当检测到新版本时，将显示工具提示在 EmEditor 窗口的右下角，为您显示新版本号，并让您能选择立即安装，或在退出时安装新版本。 另外，在 **启动窗口** 还添加了与 **更新检查器** 相关的选项，该选项使您可以启用/禁用自动更新，立即安装，或者选择退出时安装新版本。
- 从安装程序中删除了 _emedshl.dll_ 和 _emedshl64.dll_ 文件，并添加了与 Windows **资源管理器** 上下文菜单相关的注册表项和值。 这样可以防止在以后的卸载/更新过程中出现 _“正在使用文件”_ 消息框。
- 默认安装将不再创建桌面快捷方式。您仍然可以通过选择“自定义安装”来创建桌面快捷方式。
- 将鼠标悬停在 HTML / XML 字符引用，通用字符名称或百分比编码的活动字符串上时，在显示的工具提示中添加了 **全部转换** 和 **全部禁用** 命令。
- 提高了在大型文件中包括使用 **显示匹配数** 选项的 **查找**， **筛选**， **全部替换** 和 **比较** 在内的各种操作的速度。

### 测试结果：

|  | v20.2.0 | v20.3.0 | 比较 |
| --- | --- | --- | --- |
| 查找 "abc"，勾选 **显示匹配数** 选项 | 8.20 秒 | 2.32 秒 | 快 3.53倍 |
| 用 "@@@" 替换 "abc" | 8.38 秒 | 2.87 秒 | 快 2.92倍 |
| 筛选 "abc" | 9.41 秒 | 3.31 秒 | 快 2.84倍 |
| 查找 "\[a-c\]"，勾选 **正则表达式**（ **Onigmo**)）和 **显示匹配数** 选项 | 162 秒 | 50.7 秒 | 快 3.20 倍 |
| 用 "@" 替换 "\[a-c\]"，勾选 **正则表达式**（ **Onigmo**)）选项 | 220 秒 | 64.2 秒 | 快 3.43 倍 |

10 GB，3亿行，随机ASCII数据，勾选“总是丢弃过长的撤消信息来加速”选项，Windows 10（64位），Core i9-9900K，32GB RAM，2TB SSD。

## 新增选项

- 添加了 **循环** 复选框到 [**替换** 对话框](../dlg/replace/index) 中。
- 添加了 **显示更新检查器** 和 **仅当新版本可用时** 复选框到 [自定义启动窗口](../dlg/customize_start/index) 对话框中。
- 添加了 **清除数字范围选项** 复选框到 _“检测到数字/ IP 地址范围的格式错误”_ 消息框中。
- 从配置属性对话框中的 [**高亮（2）** 页面](../dlg/properties/highlight2/index) 上删除了 **高亮 HTML/XML 中的字符引用及通用字符名称** 复选框。相似的选项现在包含在 [**链接** 页面](../dlg/properties/link/index) 上的 **活动字符串** 列表框中。

## 新增宏功能

- 添加了一个可选的参数到 [**prompt** 方法](../macro/window/window_prompt) 中来允许多行文本框。
- 添加了 **eeFindAround** 标志到 **Selection** 对象的 [**Replace** 方法](../macro/selection/selection_replace) 中。
