# Version 18.6

2019年 2月 6日

## 一般の新機能

- 複数選択モードの様々な動作を改善しました。例えば、\[カスタマイズ\] ダイアログ ボックスの [\[編集\] ページ](../dlg/customize/edit/index) に \[複数選択をコピーする時、常に改行コードを挿入する\] オプションが有効 (既定) の場合、複数選択をコピーして、別の複数選択の場所に貼り付けることができるようになりました。また、\[複数選択でタイプする間、選択を保持する\] オプションが無効 (既定) の場合、複数カーソルは矢印キーでカーソルを移動しても、複数選択内に制限されなくなりました。
- 新バージョンでは、空の複数選択のカーソルが各行の最後にある時に Delete キーを押すか、各行の最初にある時に Back キーを押すことにより、改行を削除できるようになりました。
- 新バージョンでは、設定のプロパティの [\[強調(2)\] ページ](../dlg/properties/highlight2/index) で、\[かっこ/引用符の自動補完\] オプションが有効の場合、複数選択中でも、かっこ/引用符の自動補完が可能になりました。
- 複数選択中、選択された桁の範囲内のみで並べ替え、重複行の削除が可能になりました。
- 複数選択中、 [\[挿入/上書\] コマンド](../cmd/insert/insert) (Insert キー) で挿入/上書モードの切り替えができるようになりました。
- \[元に戻す\] コマンドの後にカーソル位置や選択範囲の戻り方を改善しました。例えば、\[単語右削除\] コマンドを元に戻した後のカーソル位置、それから行選択後に \[行の2重化\] コマンドを元に戻した後の選択範囲を改善しました。
- 新しい既定のショートカットには、複数選択から文頭/文末の選択を解除できる Alt+Ctrl+Shift+下/上キーが含まれます (\[ [複数選択から文頭の選択を解除します](../cmd/edit/cancel_top_sel)\] コマンド、\[ [複数選択から文末の選択を解除します](../cmd/edit/cancel_bottom_sel)\] コマンド)。
- 複数選択中のカーソル移動やテキスト編集の動作を高速化しました。
- 一時ファイルを使用しないで巨大ファイルを開くときの動作を高速化しました。

### テスト結果:

|  | v17.9 | v18.4 | v18.5 | v18.6 | v17.9 との比較 |
| --- | --- | --- | --- | --- | --- |
| 巨大ファイルを開く | 20.4 秒 | 15.6 秒 | 8.17 秒 | 7.28 秒 | 2.80 倍に高速化 |

\\* 1.34 GB、100,000,000 行、ランダム ASCII データ。\[一時ファイルを使用\] を無効、Windows 10 (64-bit)、Core i7-8700K、32GB RAM、500 GB SSD。

- \[改行を削除\] コマンドや、改行を含む文字列を、改行を含まない文字列に、すべて置換する動作を高速化しました。

### テスト結果:

|  | v18.4 | v18.6 | v18.4 との比較 |
| --- | --- | --- | --- |
| 改行コードを削除 | 6.02 秒 | 3.44 秒 | 1.75 倍に高速化 |
| 上を元に戻す | 15.0 秒 | 6.33 秒 | 2.37 倍に高速化 |

\\* 538 MB、10,000,000 行、ランダム ASCII データ。\[一時ファイルを使用\] を無効、Windows 10 (64-bit)、Core i7-8700K、32GB RAM、500 GB SSD。

- 非常に長い行が含まれている文書を編集する際の速度を向上しました。
- [\[1単語右へ\]](../cmd/edit/right_word) (Ctrl+右)、 [\[1単語左へ\]](../cmd/edit/left_word) (Ctrl+左)、 [\[選択範囲を1単語右へ\]](../cmd/edit/shift_right_word) (Ctrl+Shift+右)、 [\[選択範囲を1単語左へ\]](../cmd/edit/shift_left_word) (Ctrl+Shift+左) コマンドの動作を改善しました。
- [\[ファイルから置換\] コマンド](../cmd/search/replace_in_files) の既定のキーボード ショートカットとして、Ctrl+Shift+H を追加しました。
- 新バージョンでは、CSV モードでフィルターが設定されている間に、列のコピーと貼り付け、列の2重化が可能になりました。
- フィルター ツール バーに \[文字列全体に一致する\] ボタンを追加しました。
- 上書カーソルのサイズと色をカスタマイズできるようになりました。
- 全画面表示の動作を改善しました (全画面表示中に、ステータス バーが表示されるようになり、Alt キーを押してもツール バーやメニューが表示されないようになりました)。

## 新しい設定

- [\[ファイルから置換\] ダイアログ ボックス](../dlg/replace_in_files/index) に \[<< 検索\] ボタンを追加しました。
- [\[保存時の詳細\] ダイアログ ボックス](../dlg/properties/file/save_details/index) に \[カーソル行を除く\] チェック ボックスを追加しました。
- \[カスタマイズ\] ダイアログ ボックスの [\[編集\] ページ](../dlg/customize/edit/index) に \[複数選択をコピーする時、常に改行コードを挿入する\] チェック ボックスと \[複数選択でタイプする間、選択を保持する\] チェック ボックスを追加しました。
- \[カスタマイズ\] ダイアログ ボックスの [\[表示\] ページ](../dlg/customize/view/index) の \[高さ\] ドロップ ダウン リスト ボックスに \[フォント サイズと行間\] 項目を追加しました。
- \[カスタマイズ\] ダイアログ ボックスの [\[表示\] ページ](../dlg/customize/view/index) に \[上書カーソルのサイズと色を設定\] チェック ボックスを追加しました。
- 設定のプロパティの [\[表示\] ページ](../dlg/properties/display/index) の \[指定する部分\] 一覧に \[複数選択のある行\] 項目を追加しました。

## 新しいコマンド

- [空行を削除](../cmd/edit/remove_empty_lines)
- [複数選択から文頭の選択を解除します](../cmd/edit/cancel_top_sel)
- [複数選択から文末の選択を解除します](../cmd/edit/cancel_bottom_sel)
- [文字列全体に一致する (フィルター ツール バー)](../cmd/search/filterbar_whole_string)

## プラグインの新機能

新バージョンでは、次のフォーマットでマクロから指定するスニペットを呼び出せるようになりました。区切り文字 (この場合「/」) は、文字列の最初の文字として指定されている必要があります。

editor.ExecutePlugin( "Snippets.dll", eePluginUserMessage, 2, "/FolderName/SnippetName" );
